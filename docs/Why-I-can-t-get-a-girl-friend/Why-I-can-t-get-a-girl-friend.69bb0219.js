!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};t=JSON.parse('[{"age":"0～15","male_total":1500232,"female_total":1389676,"male":0,"female":0},{"age":"15～19","male_total":574085,"female_total":523649,"male":432,"female":1524},{"age":"20～24","male_total":741685,"female_total":683039,"male":14269,"female":27918},{"age":"25～29","male_total":825351,"female_total":765891,"male":91093,"female":139386},{"age":"30～34","male_total":819451,"female_total":766264,"male":255996,"female":336693},{"age":"35～39","male_total":884401,"female_total":886781,"male":439983,"female":534429},{"age":"40～44","male_total":985293,"female_total":1012869,"male":576218,"female":649106},{"age":"45～49","male_total":882337,"female_total":919349,"male":561887,"female":592119},{"age":"50～54","male_total":873204,"female_total":904568,"male":587476,"female":591100},{"age":"55～59","male_total":886769,"female_total":927991,"male":632000,"female":617229},{"age":"60～64","male_total":813629,"female_total":869767,"male":614320,"female":572088},{"age":"65～69","male_total":696974,"female_total":768486,"male":548830,"female":474633},{"age":"70～74","male_total":476519,"female_total":546437,"male":383032,"female":292210},{"age":"75～79","male_total":256442,"female_total":319156,"male":202477,"female":136815},{"age":"80～84","male_total":192117,"female_total":268252,"male":139942,"female":83589},{"age":"85～89","male_total":102595,"female_total":155913,"male":62605,"female":28619},{"age":"90～94","male_total":52177,"female_total":68318,"male":27678,"female":5644},{"age":"95～99","male_total":13336,"female_total":17573,"male":5951,"female":627},{"age":"100+","male_total":2099,"female_total":2639,"male":774,"female":94}]');let a=["0","1～4","5～9","10～14","15～19","20～24","25～29","30～34","35～39","40～44","45～49","50～54","55～59","60～64","65～69","70～74","75～79","80～84","85～89","90～94","95～99","100+"],l=["0～14","15～19","20～24","25～29","30～34","35～39","40～44","45～49","50～54","55～59","60～64","65～69","70～74","75～79","80～84","85～89","90～94","95～99","100"],m=document.getElementById("city"),n=document.getElementById("map"),o=document.getElementById("pp");n.addEventListener("change",e=>{// console.log(tw_map.value);
s()}),document.getElementById("population-config").addEventListener("population",()=>{s()});let d=document.getElementById("attractive"),u=document.getElementById("attractive-text");d.addEventListener("change",e=>{s()});let f=document.getElementById("intelligent"),r=document.getElementById("intelligent-text");f.addEventListener("change",e=>{s()});let i=document.getElementById("single"),g=document.getElementById("single-text"),c=document.getElementById("attractive_self"),_=document.getElementById("attractive_self_text");c.addEventListener("change",e=>{s()});let p=document.getElementById("intelligent_self"),v=document.getElementById("intelligent_self_text");function s(){var i;let s=0==(i=n.value).length?[]:i.map(e=>a.map(t=>({age:t,male:y(e["男"][t]),female:y(e["女"][t])}))).reduce((e,t)=>e.map((e,a)=>({age:e.age,male:e.male+t[a].male,female:e.female+t[a].female})));m.textContent=E(s.map(e=>e.male+e.female).reduce((e,t)=>e+t)),o.setData(s);let h=function(e){var t,l;let m,n,o,d;let u=document.getElementById("age_min"),f=document.getElementById("age_max"),r=document.querySelector("input[name=inlineRadioOptions]:checked").value,i=document.getElementById("population"),g=(t=Number(u.value),n=(m=B(t,l=Number(f.value),a).filter(e=>e.v)).shift(),o=m.pop(),d=a=>e[n.i][a]*I(n.r[0],n.r[1],t)+m.map(t=>e[t.i][a]).reduce((e,t)=>e+t)+e[n.i][a]*I(o.r[0],o.r[1],l),"male"==r?d("male"):"female"==r?d("female"):"all"==r?d("male")+d("female"):0);return i.textContent=E(g),g}(s),x=Math.round(d.value*h);u.textContent=x;let b=Math.round(f.value*x);r.textContent=b;let C=Math.round(function(e){var t,a;let m,n,o,d;let u=document.getElementById("age_min"),f=document.getElementById("age_max"),r=document.querySelector("input[name=inlineRadioOptions]:checked").value;return t=Number(u.value),n=(m=B(t,a=Number(f.value),l).filter(e=>e.v)).shift(),o=m.pop(),d=l=>e[n.i][l]*I(n.r[0],n.r[1],t)+m.map(t=>e[t.i][l]).reduce((e,t)=>e+t)+e[n.i][l]*I(o.r[0],o.r[1],a),"male"==r?1-d("male")/d("male_total"):"female"==r?1-d("female")/d("female_total"):"all"==r?1-d("male")/d("male_total")+d("female")/d("female_total"):1}(/*@__PURE__*/e(t))*b);g.textContent=C;let M=Math.round(c.value*C);_.textContent=M;let L=Math.round(p.value*M);v.textContent=L}function E(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function y(e){return parseFloat(e.replace(/,/g,""))}function B(e,t,a){return a.map(e=>e.replace("+","").split("～")).map(e=>e.map(e=>Number(e))).map((a,l)=>1==a.length?{i:l,r:a,v:a[0]==e||a[0]==t}:{i:l,r:a,v:(a[0]<=e&&a[1]>=e||a[0]>=e&&a[1]>=e)&&(a[0]<=t&&a[1]>=t||a[0]<=t&&a[1]<=t)})}function I(e,t,a){return(Math.abs(t-a)+1)/(Math.abs(t-e)+1)}p.addEventListener("change",e=>{s()}),window.addEventListener("WebComponentsReady",function(){// console.log("ready");
n.select(2),i.setData(/*@__PURE__*/e(t))})}();
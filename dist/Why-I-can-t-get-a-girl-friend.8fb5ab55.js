!function(){function e(e){return e&&e.__esModule?e.default:e}var t;t=JSON.parse('[{"age":"0～15","male_total":1500232,"female_total":1389676,"male":0,"female":0},{"age":"15～19","male_total":574085,"female_total":523649,"male":432,"female":1524},{"age":"20～24","male_total":741685,"female_total":683039,"male":14269,"female":27918},{"age":"25～29","male_total":825351,"female_total":765891,"male":91093,"female":139386},{"age":"30～34","male_total":819451,"female_total":766264,"male":255996,"female":336693},{"age":"35～39","male_total":884401,"female_total":886781,"male":439983,"female":534429},{"age":"40～44","male_total":985293,"female_total":1012869,"male":576218,"female":649106},{"age":"45～49","male_total":882337,"female_total":919349,"male":561887,"female":592119},{"age":"50～54","male_total":873204,"female_total":904568,"male":587476,"female":591100},{"age":"55～59","male_total":886769,"female_total":927991,"male":632000,"female":617229},{"age":"60～64","male_total":813629,"female_total":869767,"male":614320,"female":572088},{"age":"65～69","male_total":696974,"female_total":768486,"male":548830,"female":474633},{"age":"70～74","male_total":476519,"female_total":546437,"male":383032,"female":292210},{"age":"75～79","male_total":256442,"female_total":319156,"male":202477,"female":136815},{"age":"80～84","male_total":192117,"female_total":268252,"male":139942,"female":83589},{"age":"85～89","male_total":102595,"female_total":155913,"male":62605,"female":28619},{"age":"90～94","male_total":52177,"female_total":68318,"male":27678,"female":5644},{"age":"95～99","male_total":13336,"female_total":17573,"male":5951,"female":627},{"age":"100+","male_total":2099,"female_total":2639,"male":774,"female":94}]');var a=["0","1～4","5～9","10～14","15～19","20～24","25～29","30～34","35～39","40～44","45～49","50～54","55～59","60～64","65～69","70～74","75～79","80～84","85～89","90～94","95～99","100+"],n=["0～14","15～19","20～24","25～29","30～34","35～39","40～44","45～49","50～54","55～59","60～64","65～69","70～74","75～79","80～84","85～89","90～94","95～99","100"],l=document.getElementById("city"),m=document.getElementById("map"),o=document.getElementById("pp");m.addEventListener("change",(function(e){s()})),document.getElementById("population-config").addEventListener("population",(function(){s()}));var u=document.getElementById("attractive"),r=document.getElementById("attractive-text");u.addEventListener("change",(function(e){s()}));var f=document.getElementById("intelligent"),i=document.getElementById("intelligent-text");f.addEventListener("change",(function(e){s()}));var c=document.getElementById("single"),d=document.getElementById("single-text"),g=document.getElementById("attractive_self"),_=document.getElementById("attractive_self_text");g.addEventListener("change",(function(e){s()}));var v=document.getElementById("intelligent_self"),p=document.getElementById("intelligent_self_text");function s(){var c,s,h=(c=m.value,s=a,0==c.length?[]:c.map((function(e){return function(e,t){return t.map((function(t){return{age:t,male:y(e["男"][t]),female:y(e["女"][t])}}))}(e,s)})).reduce((function(e,t){return e.map((function(e,a){return{age:e.age,male:e.male+t[a].male,female:e.female+t[a].female}}))})));l.textContent=E(h.map((function(e){return e.male+e.female})).reduce((function(e,t){return e+t}))),o.setData(h);var x=function(e){var t=document.getElementById("age_min"),n=document.getElementById("age_max"),l=document.querySelector("input[name=inlineRadioOptions]:checked").value,m=document.getElementById("population"),o=function(e,t,a,n,l){var m=B(t,a,l).filter((function(e){return e.v})),o=m.shift(),u=m.pop(),r=function(n){return e[o.i][n]*I(o.r[0],o.r[1],t)+m.map((function(t){return e[t.i][n]})).reduce((function(e,t){return e+t}))+e[o.i][n]*I(u.r[0],u.r[1],a)};return"male"==n?r("male"):"female"==n?r("female"):"all"==n?r("male")+r("female"):0}(e,Number(t.value),Number(n.value),l,a);return m.textContent=E(o),o}(h),b=Math.round(u.value*x);r.textContent=b;var C=Math.round(f.value*b);i.textContent=C;var M=function(e){var t=document.getElementById("age_min"),a=document.getElementById("age_max"),l=document.querySelector("input[name=inlineRadioOptions]:checked").value;return function(e,t,a,n,l){var m=B(t,a,l).filter((function(e){return e.v})),o=m.shift(),u=m.pop(),r=function(n){return e[o.i][n]*I(o.r[0],o.r[1],t)+m.map((function(t){return e[t.i][n]})).reduce((function(e,t){return e+t}))+e[o.i][n]*I(u.r[0],u.r[1],a)};return"male"==n?1-r("male")/r("male_total"):"female"==n?1-r("female")/r("female_total"):"all"==n?1-r("male")/r("male_total")+r("female")/r("female_total"):1}(e,Number(t.value),Number(a.value),l,n)}(e(t)),L=Math.round(M*C);d.textContent=L;var N=Math.round(g.value*L);_.textContent=N;var S=Math.round(v.value*N);p.textContent=S}function E(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function y(e){return parseFloat(e.replace(/,/g,""))}function B(e,t,a){return a.map((function(e){return e.replace("+","").split("～")})).map((function(e){return e.map((function(e){return Number(e)}))})).map((function(a,n){return 1==a.length?{i:n,r:a,v:a[0]==e||a[0]==t}:{i:n,r:a,v:(a[0]<=e&&a[1]>=e||a[0]>=e&&a[1]>=e)&&(a[0]<=t&&a[1]>=t||a[0]<=t&&a[1]<=t)}}))}function I(e,t,a){return(Math.abs(t-a)+1)/(Math.abs(t-e)+1)}v.addEventListener("change",(function(e){s()})),window.addEventListener("WebComponentsReady",(function(){m.select(2),c.setData(e(t))}))}();
{"mappings":"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","sources":["clean-blog/js/scripts.js"],"sourcesContent":["/*!\n * Start Bootstrap - Clean Blog v6.0.8 (https://startbootstrap.com/theme/clean-blog)\n * Copyright 2013-2022 Start Bootstrap\n * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-clean-blog/blob/master/LICENSE)\n */\n// window.addEventListener('DOMContentLoaded', () => {\n//     let scrollPos = 0;\n//     const mainNav = document.getElementById('mainNav');\n//     const headerHeight = mainNav.clientHeight;\n//     window.addEventListener('scroll', function() {\n//         const currentTop = document.body.getBoundingClientRect().top * -1;\n//         if ( currentTop < scrollPos) {\n//             // Scrolling Up\n//             if (currentTop > 0 && mainNav.classList.contains('is-fixed')) {\n//                 mainNav.classList.add('is-visible');\n//             } else {\n//                 console.log(123);\n//                 mainNav.classList.remove('is-visible', 'is-fixed');\n//             }\n//         } else {\n//             // Scrolling Down\n//             mainNav.classList.remove(['is-visible']);\n//             if (currentTop > headerHeight && !mainNav.classList.contains('is-fixed')) {\n//                 mainNav.classList.add('is-fixed');\n//             }\n//         }\n//         scrollPos = currentTop;\n//     });\n// })\n\nconst ages = [\n    \"0\",\n    \"1～4\",\n    \"5～9\",\n    \"10～14\",\n    \"15～19\",\n    \"20～24\",\n    \"25～29\",\n    \"30～34\",\n    \"35～39\",\n    \"40～44\",\n    \"45～49\",\n    \"50～54\",\n    \"55～59\",\n    \"60～64\",\n    \"65～69\",\n    \"70～74\",\n    \"75～79\",\n    \"80～84\",\n    \"85～89\",\n    \"90～94\",\n    \"95～99\",\n    \"100+\",\n];\n\nconst city = document.getElementById(\"city\");\n\nconst tw_map = document.getElementById(\"map\");\nconst pp = document.getElementById(\"pp\");\n\ntw_map.addEventListener(\"change\", (e) => {\n    // console.log(tw_map.value);\n    reloadText();\n});\n\nconst population_config_from = document\n    .getElementById(\"population-config\")\n    .addEventListener(\"population\", () => {\n        reloadText();\n    });\nconst attractive = document.getElementById('attractive')\nconst attractive_text = document.getElementById('attractive-text')\nattractive.addEventListener('change', (e)=>{\n    reloadText()\n})\n\nconst intelligent = document.getElementById('intelligent');\nconst intelligentText = document.getElementById('intelligent-text');\nintelligent.addEventListener('change', (e)=>{\n    reloadText()\n})\n\nconst attractive_self = document.getElementById('attractive_self');\nconst attractive_self_text = document.getElementById('attractive_self_text');\nattractive_self.addEventListener('change', (e)=>{\n    reloadText()\n})\n\nconst intelligent_self = document.getElementById('intelligent_self');\nconst intelligent_self_text = document.getElementById('intelligent_self_text');\nintelligent_self.addEventListener('change', (e)=>{\n    reloadText()\n})\n\nwindow.addEventListener(\"WebComponentsReady\", function () {\n    // console.log(\"ready\");\n    tw_map.select(2);\n});\nfunction reloadText(){\n    let m = mergeAge(tw_map.value);\n    city.textContent = numberWithCommas(\n        m.map((x) => x.male + x.female).reduce((a, b) => a + b)\n    );\n\n    pp.setData(m);\n\n    let p = handlePopulation();\n    \n    let attractiveValue = Math.round(attractive.value * p);\n    attractive_text.textContent = attractiveValue\n\n    let intelligentValue = Math.round(intelligent.value * attractiveValue);\n    intelligentText.textContent = intelligentValue;\n\n    let attractive_self_value = Math.round(attractive_self.value * intelligentValue);\n    attractive_self_text.textContent = attractive_self_value;\n\n    let intelligent_self_value = Math.round(intelligent_self.value * attractive_self_value);\n    intelligent_self_text.textContent = intelligent_self_value;\n}\nfunction handlePopulation() {\n    const input_age_min = document.getElementById(\"age_min\");\n    const input_age_max = document.getElementById(\"age_max\");\n    const gender = document.querySelector(\n        \"input[name=inlineRadioOptions]:checked\"\n    ).value;\n    let m = mergeAge(tw_map.value);\n    const population = document.getElementById(\"population\");\n\n\n    let age = pickAgeRange(\n        m,\n        Number(input_age_min.value),\n        Number(input_age_max.value),\n        gender\n    )\n    population.textContent = numberWithCommas(\n        age\n    );\n\n    return age;\n}\n\nfunction numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction mergeAge(data) {\n    if (data.length == 0) return [];\n    return data\n        .map((d) => convertAge(d))\n        .reduce((a, b) => {\n            return a.map((x, i) => {\n                return {\n                    age: x.age,\n                    male: x.male + b[i].male,\n                    female: x.female + b[i].female,\n                };\n            });\n        });\n}\n\nfunction convertAge(data) {\n    return ages.map((a) => {\n        return {\n            age: a,\n            male: parseAge(data[\"男\"][a]),\n            female: parseAge(data[\"女\"][a]),\n        };\n    });\n}\n\nfunction parseAge(n) {\n    return parseFloat(n.replace(/,/g, \"\"));\n}\n\nfunction pickAgeRange(data, min, max, gender) {\n    let r = getRange(min, max);\n    // console.log(r.filter((x) => x.v));\n    let in_range = r.filter((x) => x.v);\n    let first = in_range.shift();\n    let end = in_range.pop();\n\n    // console.log(in_range.map((r) => data[r.i].male));\n\n    let s = (g) =>\n        data[first.i][g] * interpolation(first.r[0], first.r[1], min) +\n        in_range.map((r) => data[r.i][g]).reduce((a, b) => a + b) +\n        data[first.i][g] * interpolation(end.r[0], end.r[1], max);\n\n    if (gender == \"male\") {\n        return s(\"male\");\n    } else if (gender == \"female\") {\n        return s(\"female\");\n    } else if (gender == \"all\") {\n        return s(\"male\") + s(\"female\");\n    } else return 0;\n}\n\nfunction getRange(min, max) {\n    let range = ages\n        .map((x) => x.replace(\"+\", \"\").split(\"～\"))\n        .map((x) => x.map((y) => Number(y)));\n\n    return range.map((r, i) => {\n        if (r.length == 1) {\n            return { i, r, v: r[0] == min || r[0] == max };\n        }\n\n        return {\n            i,\n            r,\n            v:\n                ((r[0] <= min && r[1] >= min) ||\n                    (r[0] >= min && r[1] >= min)) &&\n                ((r[0] <= max && r[1] >= max) || (r[0] <= max && r[1] <= max)),\n        };\n    });\n}\n\nfunction interpolation(a, b, x) {\n    return (Math.abs(b - x) + 1) / (Math.abs(b - a) + 1);\n}\n"],"names":[],"version":3,"file":"post.b9e0ae1e.js.map","sourceRoot":"/__parcel_source_root/"}